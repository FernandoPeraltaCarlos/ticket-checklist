# Agent Guidelines for Ticket Checklist

This document provides context and rules for AI agents operating in this repository.

## Project Overview

- **Stack:** Vanilla TypeScript, Vite, Tailwind CSS, Nanostores.
- **Architecture:** 
  - Single-page application using vanilla DOM manipulation.
  - Reactive state management via `nanostores`.
  - Functional component-like structure using template literals for HTML generation.
  - Centralized `render` function triggered by state changes.

## 1. Build, Lint, and Test Commands

### Build & Run
- **Install dependencies:** `pnpm install`
- **Start development server:** `pnpm dev`
- **Build for production:** `pnpm build`
- **Preview production build:** `pnpm preview`

### Linting & Type Checking
- **Type Check:** `pnpm exec tsc --noEmit`
  - *Note:* This project relies on TypeScript for static analysis. Ensure `strict: true` compliance as defined in `tsconfig.json`.
- **Linting:** currently there are no linter scripts. Follow the existing code style manually.

### Testing
- **Status:** No testing framework is currently configured (e.g., Vitest, Jest).
- **Running Tests:** N/A.
- **Adding Tests:** If requested to add tests, recommend installing **Vitest** given the Vite ecosystem.

## 2. Code Style & Conventions

### General Philosophy
- **Paradigm:** Functional programming with side-effects managed in specific handlers.
- **DOM Manipulation:** Use native DOM APIs (`querySelector`, `addEventListener`, `innerHTML`) efficiently. Avoid heavy frameworks (React/Vue) unless explicitly requested for a rewrite.
- **State Management:** Use `nanostores` atoms for global state. Subscribe to store changes to trigger UI updates.

### Formatting
- **Indentation:** 2 spaces.
- **Quotes:** Double quotes (`"`) for strings.
- **Semicolons:** Always use semicolons.
- **Line Length:** Keep lines reasonably short, but allow longer lines for template strings containing HTML/Tailwind classes.

### Naming Conventions
- **Variables & Functions:** `camelCase` (e.g., `loadState`, `checklistStore`, `updateFooterVisibility`).
- **Types & Interfaces:** `PascalCase` (e.g., `ChecklistState`, `DocRequirement`, `Item`).
- **Constants:** `UPPER_CASE` with underscores (e.g., `STORAGE_KEY`, `DEFAULT_LINKS`).
- **Event Handlers:** Inline handlers or named functions if complex (e.g., `app.addEventListener`).

### TypeScript Usage
- **Strictness:** strict mode is enabled. Avoid `any` types.
- **Type Definitions:** Define explicit types for all data structures, especially state and configuration objects.
  ```typescript
  type MyState = {
    id: string;
    isActive: boolean;
  };
  ```
- **Null Safety:** Explicitly handle `null` and `undefined`. Use optional chaining (`?.`) and nullish coalescing (`??`) where appropriate.

### Imports
- **Order:** External libraries first, then local imports.
  ```typescript
  import { atom } from "nanostores";
  import "./style.css";
  ```

### Error Handling
- **User Input:** Validate all user inputs (URLs, text) before processing.
- **DOM Elements:** Always check if critical DOM elements exist before accessing them.
  ```typescript
  const app = document.querySelector("#app");
  if (!app) throw new Error("#app not found");
  ```
- **External Data:** Use `try...catch` blocks when parsing JSON (e.g., from `localStorage`) or handling `URL` objects.

### UI/CSS
- **Tailwind:** Use Tailwind CSS utility classes directly in HTML template strings.
- **Responsive Design:** Mobile-first approach. Use `md:`, `lg:` prefixes for larger screens.
- **Dark Mode:** The application seems designed with a dark theme by default (slate-900/black backgrounds, slate-100 text).

## 3. Workflow specific instructions

### Modifying State Logic
1.  Update the `ChecklistState` type definition if adding new fields.
2.  Update `loadState` to handle default values and backward compatibility.
3.  Update the `render` function to reflect the new state in the UI.
4.  Add appropriate event listeners for interaction.

### Modifying UI
1.  Locate the relevant template string section in the `render` function.
2.  Apply changes using Tailwind classes.
3.  Ensure event delegation handles new interactive elements if necessary.

---
*Generated by opencode on Mon Feb 09 2026*
